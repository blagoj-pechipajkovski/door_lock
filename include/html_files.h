
void handle_index(AsyncWebServerRequest *request){

    request->send(200, "text/html", "<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        \n        <title>Door</title>\n        \n        <link rel=\"stylesheet\" href=\"flexybox.css\">\n        \n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        \n        <script type=\"text/javascript\">\n            function activate_endpoint(url) {\n                var xmlHttp = new XMLHttpRequest();\n                xmlHttp.onreadystatechange = function() {}\n                xmlHttp.open(\"GET\", url, true);\n                xmlHttp.send();\n            }\n            \n/*lop=true;\ndo {\n  txt = prompt(\'vnesi lozinka\');\n  console.log(txt);\n  if (txt==null) { console.log(\'null je\'); lop = false; }\n  if (txt==\'lozinka\') { console.log(\'lozinka je\'); lop = false; }\n} while (lop);\nif (txt==\'lozinka\') {\n  alert(\'ok\');\n  //window.location.href = \'http://192.168.4.1/settings\';\n}*/\n        </script>\n        \n        <style>\n            * {\n                box-sizing: border-box;\n            }\n            \n            html {\n                height: 100%;\n            }\n            \n            body {\n                height: 100%;\n                margin:  0;\n                padding: 15px;\n                font-family: Arial;\n                color: #ffffff7f;\n                background-color: #212024;\n            }\n            \n            #main_container {\n                max-width: 500px;\n                margin: auto;\n                min-height: 100%;\n            }\n            \n            #main_container > * {\n                margin-bottom: 15px;\n            }\n            \n            #main_container > *:first-child {\n                margin-top: 15px;\n            }\n        </style>\n    </head>\n    \n    <body>\n        <div id=\"main_container\" class=\"flexybox-col\">\n        \n            <div onclick=\"activate_endpoint(\'/unlock\');\"\n                 class=\"flexybox\" style=\"width:100%;\n                                         aspect-ratio: 1;\n                                         background-color: #49DC4D;\n                                         font-size: 6.7vmin;\n                                         cursor: pointer;\n                                         border-radius: 100%;\">\n                <div>\n                    Open door\n                </div>\n            </div>\n            \n            <div class=\"flexyfill\" style=\"margin: 0; max-height: 50px;\"></div>\n            \n            <div class=\"flexybox\" style=\"width:100%;\n                                         aspect-ratio: 2/1;\">\n                \n                <div class=\"flexyfill\" style=\"margin: 0;\"></div>\n            \n                <div onclick=\"window.location.href = \'http://192.168.4.1/settings\';\"\n                     class=\"flexybox\" style=\"width: 25%;\n                                             aspect-ratio: 1;\n                                             background-color: #ff7518;\n                                             font-size: 2vmin;\n                                             cursor: pointer;\n                                             border-radius: 100%;\">\n                    <div>\n                        Settings\n                    </div>\n                </div>\n                \n                <div class=\"flexyfill\" style=\"margin: 0;\"></div>\n                \n                <div onclick=\"window.location.href = \'/exit\';\"\n                     class=\"flexybox\" style=\"width: 40%;\n                                             aspect-ratio: 1;\n                                             background-color: #ef3038;\n                                             font-size: 3.6vmin;\n                                             cursor: pointer;\n                                             border-radius: 100%;\">\n                    <div>\n                        Exit\n                    </div>\n                </div>\n                \n                <div class=\"flexyfill\" style=\"margin: 0;\"></div>\n                \n            </div>\n            \n        </div>\n    </body>\n</html>\n");
}
void html_files(AsyncWebServer* server) {
    server->on("/triptych.css", HTTP_GET, [](AsyncWebServerRequest *request){
    
        request->send(200, "text/css", ".triptych {\n    display: flex;\n    flex-flow: row wrap;\n}\n\n.triptych > * {\n    width: 33.3%;\n}\n\n.triptych > .trt-twothirds { width:66.6%; }\n.triptych > .trt-halfwidth { width:  50%; }\n.triptych > .trt-fullwidth { width: 100%; }\n\n.triptych > .trt-br {\n    display: block;\n    visibility: hidden;\n    width: 100%;\n}\n");
    });
    server->on("/flexybox.css", HTTP_GET, [](AsyncWebServerRequest *request){
    
        request->send(200, "text/css", "[class^=\"flexybox\"] {\n    display: flex;\n    flex-wrap: nowrap;\n    flex-direction: row;\n}\n\n.flexybox-c, [class^=\"flexybox\"] { justify-content: center;     align-items: center; text-align: justify; }\n\n.flexybox-t  { justify-content: center;     align-items: flex-start; }\n.flexybox-b  { justify-content: center;     align-items: flex-end;   }\n.flexybox-l  { justify-content: flex-start; align-items: center;     }\n.flexybox-r  { justify-content: flex-end;   align-items: center;     text-align: right; }\n.flexybox-tl { justify-content: flex-start; align-items: flex-start; }\n.flexybox-tr { justify-content: flex-end;   align-items: flex-start; text-align: right; }\n.flexybox-bl { justify-content: flex-start; align-items: flex-end;   }\n.flexybox-br { justify-content: flex-end;   align-items: flex-end;   text-align: right; }\n\n.flexybox-col { flex-direction: column; }\n\n.flexybox-col.flexybox-t  { justify-content: flex-start; align-items: center;     }\n.flexybox-col.flexybox-b  { justify-content: flex-end;   align-items: center;     }\n.flexybox-col.flexybox-l  { justify-content: center;     align-items: flex-start; }\n.flexybox-col.flexybox-r  { justify-content: center;     align-items: flex-end;   text-align: right; }\n.flexybox-col.flexybox-tl { justify-content: flex-start; align-items: flex-start; }\n.flexybox-col.flexybox-tr { justify-content: flex-start; align-items: flex-end;   text-align: right; }\n.flexybox-col.flexybox-bl { justify-content: flex-end;   align-items: flex-start; }\n.flexybox-col.flexybox-br { justify-content: flex-end;   align-items: flex-end;   text-align: right; }\n\n.flexyfill { flex-grow: 1; }\n\n.flexybox-wrap { flex-wrap: wrap; }\n");
    });
    server->on("/templating.js", HTTP_GET, [](AsyncWebServerRequest *request){
    
        request->send(200, "text/javascript", "function html_str_to_el(html) {\n    let temp = document.createElement(\'template\');\n    html = html.trim(); // Never return a space text node as a result\n    temp.innerHTML = html;\n    return temp.content.firstChild;\n}\n\nfunction generate_templates() {\n    // Generate templates\n    var ungenerated = document.querySelectorAll(\'[data-template]\');\n    for (var i = 0; i < ungenerated.length; i++) {\n        item = ungenerated.item(i);\n        item.parentNode.replaceChild(html_str_to_el(window[item.dataset.template](JSON.parse(item.innerHTML))), item);\n    }\n}\n\ntry {\n    if (TEMPLATING_AUTOLOAD === true)\n        window.addEventListener(\"load\", generate_templates);\n} catch { }\n\n/*\nExample template definition and usage\n\n<script>\n    function math_template({x,y}) {\n        return `${x} + ${y} = ${x+y}`;\n    }\n</script>\n\n<div data-template=\"math_template\">\n    {\"x\":5, \"y\":4}\n</div>\n*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n");
    });
    server->on("/settings", HTTP_GET, [](AsyncWebServerRequest *request){
    
        request->send(200, "text/html", "<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        \n        <title>Settings</title>\n        \n        <script src=\"templating.js\"></script>\n        <link rel=\"stylesheet\" href=\"flexybox.css\">\n        <script src=\"WV.js\"></script>\n        \n        <script>\n            \n            function webvar_input({text,name}) {\n                if (text === undefined) text = name;\n                return `<div class=\"flexybox webvar_row\">\n                            <div class=\"flexybox-r\" style=\"text-align: right;\">\n                                ${text}\n                            </div>\n                            <div class=\"flexybox\">\n                                <input style=\"width: 100%;\" data-webvar=\"${name}\" ></input>\n                            </div>\n                        </div>`;\n            }\n            \n            function webvar_text({text,name}) {\n                if (text === undefined) text = name;\n                return `<div class=\"flexybox webvar_row\">\n                            <div class=\"flexybox-r\">\n                                ${text}\n                            </div>\n                            <div class=\"flexybox\">\n                                <a data-webvar=\"${name}\" ></a>\n                            </div>\n                        </div>`;\n            }\n            \n        </script>\n        \n        \n        \n        <script>\n            window.addEventListener(\"load\", function() {\n                generate_templates();\n                WebVars.begin(true, true);\n            });\n        </script>\n        \n        <style>\n            * {\n                box-sizing: border-box;\n            }\n            \n            html {\n                height: 100%;\n            }\n            \n            body {\n                height: 100%;\n                margin:  0;\n                padding: 15px;\n                font-family: Arial;\n                /*color: #ffffff7f;\n                background-color: #151620;*/\n            }\n            \n            #main_container {\n                max-width: 500px;\n                margin: auto;\n                min-height: 100%;\n            }\n            \n            .webvar_row > * {\n                width: 50%;\n            }\n            \n            .webvar_row > *:first-child {\n                padding: 5px;\n            }\n            \n            [class*=\"wv-\"] {\n                width: 100%;\n                padding: 5px;\n            }\n            \n            #main_container > * {\n                width: 100%;\n                margin: 0;\n                border-bottom: 1px solid black;\n            }\n            \n            #main_container > *:last-child {\n                border-bottom: none;\n            }\n            \n            #main_container > * > * {\n                margin: 5px 0;\n            }\n        </style>\n    </head>\n    \n    <body>\n        <div id=\"main_container\" class=\"flexybox-col flexybox-t\">\n        \n            <div class=\"flexybox-l\">\n                <button onclick=\"history.back()\">Back</button>\n            </div>\n            \n            <div class=\"flexybox\" style=\"margin: 2px 0 0 0;\"></div>\n            \n            <div data-template=\"webvar_input\">\n                {\"text\":\"Acces Point/WiFi name\", \"name\":\"AP_name\"}\n            </div>\n            \n            <div data-template=\"webvar_input\">\n                {\"text\":\"Acces Point/WiFi password\", \"name\":\"AP_pass\"}\n            </div>\n            \n            <div data-template=\"webvar_input\">\n                {\"text\":\"Admin password\", \"name\":\"admin_pass\"}\n            </div>\n            \n            <div class=\"flexybox\" style=\"margin: 2px 0 0 0;\"></div>\n            \n            <div data-template=\"webvar_input\">\n                {\"text\":\"Duration lock stays open\", \"name\":\"unlock_time\"}\n            </div>\n            \n            <div class=\"flexybox\" style=\"margin: 2px 0 0 0;\"></div>\n            \n            <div class=\"flexybox-c\">\n                <form method=\"POST\" action=\"/handle_update\" enctype=\"multipart/form-data\" onsubmit=\"this.querySelector(\'.fuplpass\').value = WebVars.password;\">\n                    <input class=\"fuplpass\" type=\"hidden\" name=\"_password\">\n                    <input type=\"file\" name=\"update\">\n                    <input type=\"submit\" value=\"Update\">\n                </form>\n            </div>\n            \n            <div class=\"flexybox\" style=\"margin: 2px 0 0 0;\"></div>\n            \n            <div class=\"flexybox-c\">\n                <form method=\"POST\" action=\"/restart\" enctype=\"multipart/form-data\" onsubmit=\"this.querySelector(\'.fuplpass\').value = WebVars.password;\">\n                    <input class=\"fuplpass\" type=\"hidden\" name=\"_password\">\n                    <input type=\"submit\" value=\"Restart\">\n                </form>\n            </div>\n            \n            <div class=\"flexybox\" style=\"margin: 2px 0 0 0;\"></div>\n            \n            <div class=\"flexybox\">\n                <button onclick=\"WebVars.save();\">Save</button>\n            </div>\n        </div>\n    </body>\n</html>\n");
    });
}
